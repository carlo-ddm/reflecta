
// You can add global styles to this file, and also import other style files

:root {
  color-scheme: light;

  --app-bg: #f6f6f8;
  --app-fg: #111216;
  --brand-1: #3b82f6;

  --surface-1: #ffffff;
  --border-1: rgba(17, 18, 22, 0.12);

  --radius-lg: 18px;
  --container-width: 1040px;

  --shadow-sm: 0 6px 18px rgba(17, 18, 22, 0.08);
  --shadow-md: 0 16px 40px rgba(17, 18, 22, 0.12);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  background: var(--app-bg);
  color: var(--app-fg);
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
    Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
  line-height: 1.5;
}

a {
  color: inherit;
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --app-bg: #0b0c10;
    --app-fg: #eef0f6;
    --brand-1: #60a5fa;
    --surface-1: #11131a;
    --border-1: rgba(238, 240, 246, 0.12);
    --shadow-sm: 0 6px 20px rgba(0, 0, 0, 0.38);
    --shadow-md: 0 18px 48px rgba(0, 0, 0, 0.5);
  }
}

/* Analysis modal (F1) */
.analysis-modal[hidden] {
  display: none;
}

.analysis-modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 1.25rem;
  z-index: 50;
}

.analysis-modal__backdrop {
  position: absolute;
  inset: 0;
  background: color-mix(in srgb, #000 55%, transparent);
  backdrop-filter: blur(8px);
}

.analysis-modal__dialog {
  position: relative;
  width: min(860px, 100%);
  max-height: min(86svh, 56rem);
  display: grid;
  grid-template-rows: auto 1fr auto;
  border-radius: 18px;
  background: var(--surface-1);
  border: 1px solid var(--border-1);
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.analysis-modal__header {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 1rem;
  padding: 1.1rem 1.1rem 0.9rem;
  border-bottom: 1px solid var(--border-1);
}

.analysis-modal__title-wrap {
  display: grid;
  gap: 0.25rem;
}

.analysis-modal__title {
  margin: 0;
  font-size: 1.1rem;
  letter-spacing: -0.02em;
}

.analysis-modal__subtitle {
  margin: 0;
  opacity: 0.75;
  font-size: 0.92rem;
}

.analysis-modal__content {
  padding: 1.1rem;
  overflow: auto;
}

.analysis-profile {
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 1rem;
}

.analysis-profile__grid {
  display: grid;
  gap: 0.75rem;
}

.analysis-metric {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    'label value'
    'bar bar';
  gap: 0.35rem 0.75rem;
  padding: 0.75rem;
  border-radius: 14px;
  border: 1px solid var(--border-1);
  background: color-mix(in srgb, var(--surface-1) 88%, var(--app-bg));
}

.analysis-metric__label {
  grid-area: label;
  font-weight: 650;
  letter-spacing: -0.01em;
}

.analysis-metric__value {
  grid-area: value;
  font-variant-numeric: tabular-nums;
  opacity: 0.75;
}

.analysis-metric__bar {
  grid-area: bar;
  height: 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--border-1) 35%, transparent);
  overflow: hidden;
}

.analysis-metric__bar > span {
  display: block;
  height: 100%;
  width: var(--pct, 0%);
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--brand-1) 55%, transparent),
    var(--brand-1)
  );
}

.analysis-chart {
  border-radius: 14px;
  border: 1px solid var(--border-1);
  background: color-mix(in srgb, var(--surface-1) 88%, var(--app-bg));
  padding: 0.9rem;
  display: grid;
  gap: 0.65rem;
  align-content: start;
}

.analysis-chart__frame {
  aspect-ratio: 1 / 1;
  border-radius: 16px;
  position: relative;
  background: radial-gradient(
      circle at 50% 50%,
      color-mix(in srgb, var(--brand-1) 8%, transparent),
      transparent 55%
    ),
    color-mix(in srgb, var(--surface-1) 85%, var(--app-bg));
  border: 1px solid color-mix(in srgb, var(--border-1) 75%, transparent);
  overflow: hidden;
}

.analysis-chart__ring {
  position: absolute;
  inset: 10%;
  border-radius: 999px;
  border: 1px dashed color-mix(in srgb, var(--border-1) 65%, transparent);
}

.analysis-chart__ring:nth-child(2) {
  inset: 25%;
}

.analysis-chart__ring:nth-child(3) {
  inset: 40%;
}

.analysis-chart__dot {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: var(--brand-1);
  top: 32%;
  left: 66%;
  box-shadow: 0 0 0 6px color-mix(in srgb, var(--brand-1) 18%, transparent);
}

.analysis-chart__hint {
  margin: 0;
  opacity: 0.75;
  font-size: 0.92rem;
}

.analysis-modal__footer {
  padding: 0.9rem 1.1rem 1.1rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  border-top: 1px solid var(--border-1);
  background: color-mix(in srgb, var(--surface-1) 92%, var(--app-bg));
}

.analysis-modal__btn {
  cursor: pointer;
  appearance: none;
  border: 1px solid var(--border-1);
  background: color-mix(in srgb, var(--surface-1) 92%, var(--app-bg));
  color: inherit;
  padding: 0.55rem 0.85rem;
  border-radius: 999px;
  font: inherit;
  font-weight: 650;
  letter-spacing: -0.01em;
}

.analysis-modal__btn--primary {
  border-color: color-mix(in srgb, var(--brand-1) 28%, var(--border-1));
  background: color-mix(in srgb, var(--brand-1) 10%, var(--surface-1));
}

.analysis-modal__btn:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--brand-1) 55%, transparent);
  outline-offset: 3px;
}

@media (max-width: 760px) {
  .analysis-profile {
    grid-template-columns: 1fr;
  }
}
